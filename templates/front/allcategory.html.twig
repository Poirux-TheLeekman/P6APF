{% extends 'base.html.twig' %}
{% block title %}Administration-Category{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif;   }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>
<div class="example-wrapper">
    <h1>Liste des catégories</h1>
	<div class="container" style="display: flex;">
  	    {% for category in allcategory %}
    	<div class="card-link" >
    	           {% if is_granted('ROLE_ADMIN') %}
        	<a href="{{ path('category-update',{'id' : category.id}) }}">
        	        	{% endif %}
        	
            	<div class="card text-white bg-primary mb-3" style="max-width: 20rem;">
              		<div class="card-title"><h4>{{ category.name }}</h4></div>
                 	 	<div class="card-body">
                    	<p class="card-text">{{ category.description }}</p>
                    	<p class="card-text">Icone de la catégorie :</p>
                    	<p><img class="icon" src="{{ asset('uploads/icons/' ~ category.IconName) }}" alt="{{ category.IconName }}"></p>
                  		</div>
            	</div>
            	           {% if is_granted('ROLE_ADMIN') %}
            	
        	</a>
        		<a data-confirm="Etes-vous certain de vouloir supprimer la catégorie {{ category.id }}?" href="{{ path('category-delete',{'id' : category.id}) }}">Supprimer</a>
        	{% endif %}
        </div>
    	{% endfor%}
    </div>	
</div>
{% endblock %}
